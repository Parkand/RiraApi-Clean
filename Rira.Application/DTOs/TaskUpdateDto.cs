// نام پروژه: Rira.Application.DTOs
using System.ComponentModel.DataAnnotations;
using System;

namespace Rira.Application.DTOs
{
    // 🧩 مدل انتقال داده برای عملیات به‌روزرسانی کامل وظیفه (Task)
    // ------------------------------------------------------------
    // این کلاس داده‌هایی را که کاربر در درخواست PUT ارسال می‌کند، مدل‌سازی می‌کند.
    // در معماری تمیز (Clean Architecture)، این DTO واسط میان UI و Application است
    // و موجودیت‌های Domain (مثل TaskEntity) را مستقیماً درگیر نمی‌کند.
    public class TaskUpdateDto
    {
        // شناسه وظیفه (Id)
        // -------------------------------------------------------------
        // این ویژگی برای تشخیص تسک مورد نظر در عملیات Update ضروری است.
        // در درخواست‌های PUT مقدار آن باید حتماً از سمت کلاینت ارسال شود
        // تا سرویس بتواند تسک صحیح را در دیتابیس پیدا کرده و بروزرسانی کند.
        [Required]
        public int Id { get; set; }

        // عنوان وظیفه (Title)
        // -------------------------------------------------------------
        // الزامی است — نباید خالی ارسال شود.
        // محدودیت طول حداکثر ۲۰۰ کاراکتر دارد تا کنترل داده ورودی
        // در سمت سرور به شکل استاندارد انجام شود.
        [Required]
        [MaxLength(200)]
        public string Title { get; set; }

        // توضیحات وظیفه (Description)
        // -------------------------------------------------------------
        // فیلدی اختیاری برای نوشتن توضیح یا یادداشت مربوط به وظیفه.
        // اگر خالی ارسال شود، مقدار قبلی در دیتابیس حفظ می‌گردد (در Service Logic).
        public string Description { get; set; }

        // تاریخ سررسید (DueDate)
        // -------------------------------------------------------------
        // مشخص‌کننده‌ی زمان پایان وظیفه.
        // این فیلد الزامی است و هنگام اعتبارسنجی در سمت سرور بررسی می‌شود.
        [Required]
        public DateTime DueDate { get; set; }

        // وضعیت انجام وظیفه (IsCompleted)
        // -------------------------------------------------------------
        // اگر true باشد یعنی کاربر اعلام کرده وظیفه به پایان رسیده.
        // مقدار پیش‌فرض در هنگام ایجاد وظیفه False است، ولی در بروزرسانی تنظیم می‌شود.
        public bool IsCompleted { get; set; }

        // ===========================================================================================
        // 📘 خلاصه آموزشی (RiraDocs Teaching Edition)
        // -------------------------------------------------------------------------------------------
        // این مدل داده برای متد PUT در کنترلر تسک‌ها (TasksController) به کار می‌رود.
        // هدف آن جداسازی داده‌های ورودی کاربر از موجودیت‌های اصلی دامنه (TaskEntity) است.
        // ویژگی [Required] از فضای نام DataAnnotations برای ولیدیشن اولیه استفاده می‌کند.
        // این کلاس به سرویس TaskService ارسال می‌شود تا عملیات بروزرسانی اجرا گردد.
        // در تست‌های واحد، استفاده از این DTO مانع از خطاهای Null و Mapping نادرست می‌شود.
        // هیچ تغییر اجرایی اعمال نشده — فقط توضیحات آموزشی فارسی جهت مستندسازی افزوده شده.
        // ===========================================================================================
    }
}
