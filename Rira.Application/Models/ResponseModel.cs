namespace Rira.Application.Models
{
    // 🧩 مدل پاسخ استاندارد برای خروجی‌های API پروژه RiRa
    // -------------------------------------------------------------------
    // این کلاس به عنوان "الگوی پاسخ واحد" (Unified Response Model)
    // در کل لایه‌های Application و Presentation مورد استفاده قرار می‌گیرد.
    //
    // 🎯 هدف:
    //     ▫ تعریف قالب استاندارد برای تمام خروجی‌های قابل نمایش به کاربر یا سرویس‌های دیگر.
    //     ▫ کاهش تکرار ساختارهای پاسخ در کنترلرها و Handlerها.
    //     ▫ تسهیل در مدیریت خطا، پیام، و داده در سطح API.
    //
    // ⚙️ محل استفاده:
    //     ▫ در Handlerهای CQRS در هنگام بازگرداندن نتیجه.
    //     ▫ در Controllerها، برای ساخت خروجی نهایی JsonResult یا Ok().
    //
    // 🔹 نکته طراحی RiRaDocs:
    //     تمام سرویس‌ها و کوئری‌های برنامه با ResponseModel<T> کار می‌کنند — نه مستقیماً با DTO،
    //     تا بتوان لاگ، Exception Handling، و Localization Message را به سادگی در یک نقطه کنترل کرد.
    public class ResponseModel<T>
    {
        // ============================================================
        // ✅ وضعیت موفقیت عملیات (True = موفق، False = خطا)
        // ============================================================
        // این فیلد بیانگر نتیجه‌ی کلی عملیات در سمت Application است.
        //
        // 🎓 در مثال:
        //     Success = true  → عملیات با موفقیت انجام شده.
        //     Success = false → خطایی در Handler یا Repository رخ داده.
        public bool Success { get; set; }

        // ============================================================
        // ✅ پیام همراه پاسخ (اعم از موفقیت یا خطا)
        // ============================================================
        // پیام برای کاربران یا لاگ سیستم جهت اعلام نتیجه‌ی عملیات.
        //
        // 🧠 مثال‌ها:
        //     - "عملیات با موفقیت انجام شد."
        //     - "کاربر مورد نظر یافت نشد."
        // در لایه‌ی Handler یا Service مقداردهی می‌شود.
        public string Message { get; set; }

        // ============================================================
        // ✅ داده‌ی خروجی (Data)
        // ============================================================
        // داده‌ی بازگشتی از نوع جنریک `T`.
        // می‌تواند شامل Entity، DTO یا مقدار ساده مانند int باشد.
        //
        // ⚙️ مثال‌ها:
        //     - ResponseModel<EmployeeDto>
        //     - ResponseModel<int> (برای Id برگشتی)
        public T? Data { get; set; }

        // ============================================================
        // ✅ سازنده‌ی پیش‌فرض
        // ============================================================
        // این سازنده برای سازگاری با JSON Serializer و Swagger استفاده می‌شود.
        // بدون نیاز به مقداردهی اولیه از طرف کاربر.
        public ResponseModel() { }

        // ============================================================
        // ✅ سازنده‌ی کامل (Custom Constructor)
        // ============================================================
        // برای مواقعی که Handler یا Service بخواهد به‌صورت مستقیم
        // پاسخ سفارشی را تولید کند.
        //
        // ⚙️ مثال:
        //     return new ResponseModel<EmployeeDto>(true, "کارمند با موفقیت ثبت شد.", employeeDto);
        public ResponseModel(bool success, string message, T? data = default)
        {
            Success = success;
            Message = message;
            Data = data;
        }
    }

    // ===========================================================================================
    // 📘 خلاصه آموزشی (RiraDocs Teaching Edition)
    // -------------------------------------------------------------------------------------------
    // 🔹 مفهوم:  ResponseModel<T> به‌عنوان "واحد پاسخ استاندارد" در RiRa طراحی شده است.
    // 🔹 اهداف کلیدی:
    //     ▫ همگن‌سازی ساختار پاسخ بین تمام Handlerها و Controllerها.
    //     ▫ سادگی در قالب‌بندی خروجی، ثبت خطا و تست واحد.
    //     ▫ پشتیبانی کامل از Generic Types برای انعطاف‌پذیری.
    //
    // 🔹 مثال استفاده:
    //     public async Task<ResponseModel<List<TaskDto>>> Handle(...) {
    //         var data = await _context.Tasks.ToListAsync();
    //         return new ResponseModel<List<TaskDto>>(true, "لیست تسک‌ها بازیابی شد.", data);
    //     }
    //
    // 🔹 ارتباط با سایر اجزا:
    //     ▫ Handlerها → خروجی مستقیم ResponseModel<T>.
    //     ▫ Middlewareهای Global Exception → تولید پاسخ خطا.
    //     ▫ Controllerها → بازگرداندن داده با Ok(response) یا BadRequest(response).
    //
    // 🔹 اصول رعایت‌شده:
    //     ▫ Generic Pattern برای نوع خروجی.
    //     ▫ Open/Closed Principle برای توسعه ساختار در آینده.
    //     ▫ Separation of Concerns — داده، پیام و وضعیت جدا از منطق کسب‌وکار.
    //
    // 🔹 تگ انتشار RiRaDocs:
    //     RiraDocs-v2025.11.4-Stable-Final-Fixed
    // ===========================================================================================
}
